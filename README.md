# PF2e Threat Tracker for Foundry VTT

**PF2e Threat Tracker** is a Foundry VTT module that tracks **threat** generated by player characters and ally NPCs in the **Pathfinder 2e** system. It maintains a threat table for each enemy, showing which characters have generated the most attention. The module displays a floating panel listing each enemy and its top threat-holders, helping Game Masters monitor aggro during combat.

> This module is compatible with **Foundry VTT v13+**. It seems to work on v12, but v12-specific bugs will not be addressed.

---

## üß© Features

- **Threat Tracking**  
  Automatically tracks threat from common actions (damage, healing, taunts, etc.) for each character against each enemy.

- **Threat Panel**  
  A floating UI panel lists every enemy token in the scene along with their top threat-generators. It updates in real time during combat and shows the top 3 sources of threat per enemy.

- **Distance-Based Threat Modifiers**  
  Scale down threat based on how far the attacker is from the enemy (relative to their speed).

- **Sequencer Visual Effects** *(Optional)*  
  If the [Sequencer](https://github.com/fantasycalendar/FoundryVTT-Sequencer) module is installed, PF2e Threat Tracker can trigger animations or effects on tokens when threat changes or thresholds are reached.  
  Example: a glowing effect when a new top-threat character overtakes another.

- **Persistent Storage**  
  Each enemy's threat table is stored using Foundry's flags system. This allows data to persist across scenes or sessions.



[threatTrackerDemo.webm](https://github.com/user-attachments/assets/8b0f310a-547e-4fa5-97ac-d394659e4425)




---

## üöÄ Installation

1. Copy the **Manifest URL** for PF2e Threat Tracker (https://github.com/ZzinnerGamer/pf2e-threat-tracker/releases/latest/download/module.json).
2. In Foundry VTT, go to **Add-on Modules ‚Üí Install Module**.
3. Paste the URL into the **Manifest URL** field and click **Install**.
4. Enable the module in **Manage Modules**, then click **Save Module Settings**.

---

## ‚öîÔ∏è Usage

- **Opening the Threat Panel**  
  The Threat Tracker panel opens automatically at the start of combat. It can also be toggled manually if needed (this is planned but not available now) (V1.0 Note I FORGOT ABOUT THIS).

- **Monitoring Threat**  
  During combat, any time a PC or allied token deals damage, heals, or uses a defined taunt or ability, their threat value increases against the relevant enemy. The panel displays the **top 3 threat-holders** per enemy so the GM knows who is most likely to be targeted.

- **Sequencer Effects**  
  If Sequencer is available, the module will play a brief visual effect when threat is generated or when the top-threat character changes. These effects can be enabled/disabled in the module settings.

---

## ‚öôÔ∏è Configuration

Go to **Settings ‚Üí Module Settings ‚Üí PF2e Threat Tracker** to adjust:

1. **Threat Tracker Editor**
   Opens a GUI to configure threat multipliers per action type (Attacks, Spells, Skills).

2. **Custom Threat per Skill Action and/or Actor Actions**

3. **Custom Threat from Effects (Self, to enemies or both)**

4. **Threat Presets**
   (For those lazy ones!)

6. **Threat Tracker Appareance**
   Control the position, opacity and theme of the threat tracker.

7. **Sequencer Integration**
   Toggle on/off the use of Sequencer visual effects.

---

### üîß In Progress

- **Themes!!! more themes!!!!!**
- **Various Threat Templates in mind**

### üí° Future Ideas

- **Extra VFX Options**  
  Use Sequencer to flash icons or mark the top-threat character more clearly.

---

### Credits

- Wasp for creating [Sequencer](https://foundryvtt.com/packages/sequencer)
- Chasarooni for being a wondeful person (he made the sequencer macro! and here is one of his [wonderful modules ‚ô•](https://foundryvtt.com/packages/pf2e-rpg-numbers))
- TheJoester for almost making me cry
- The whole pathfinder community ‚ô•
- Foundry Team for making me use its program since v9 (2021 lmao)
- Assets from GameDevMarket (Fargo theme from Ispolin, Sci-Fi theme from Ultra-Knight, Dark Geo theme from layerlabgames)

## üôå Contributing

Contributions and feedback are welcome!  
Feel free to open issues or pull requests via GitHub.  
Also the project is on [GitLocalize](https://gitlocalize.com/repo/10413), the language barrier will not be a problem here! 

## Disclaimer
I am not a JS developer, neither an knowledged person about it, AI was used in the creation of this module just because I lack of the knowledge of how coding works and I learned a lot with the creation of this module. I hope you understand and appreciate every module developer for their ability to do such incredible things day after day.
